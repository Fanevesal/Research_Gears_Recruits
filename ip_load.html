<img src="load.gif" alt="">
<style>
    img{
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 5rem;
        height: 5rem;
    }
</style>
<script>
async function getPrivateIP() {
  return new Promise((resolve) => {
    const pc = new RTCPeerConnection({ iceServers: [] });
    let found = false;

    pc.createDataChannel("");

    pc.onicecandidate = (evt) => {
      if (!evt.candidate || found) return;
      const candidate = evt.candidate.candidate;
      const match = candidate.match(/(\b(?:10|192\.168|172\.(1[6-9]|2\d|3[0-1]))\.\d{1,3}\.\d{1,3}\b)/);
      if (match) {
        found = true;
        resolve(match[0]);
        pc.close();
      }
    };

    pc.createOffer()
      .then(offer => pc.setLocalDescription(offer))
      .catch(() => resolve(null));

    setTimeout(() => {
      if (!found) {
        try { pc.close(); } catch(e){}
        resolve(null);
      }
    }, 5000);
  });
}


getPrivateIP().then(ip => console.log("Private LAN IP:", ip));
</script>